<!DOCTYPE html>
<html>

<head>
  <base target="_top">
  <title>MP3 Upload Google Drive</title>
</head>

<body>

 
  <form method="POST" action="https://script.google.com/macros/s/AKfycbxgO7T2f42gw9wTZMZgyspgvXeLq0j8wwNCzMWP3H2dbGKN2evdbDiz9WQSe7AV1ShtGw/exec" onsubmit="return handleFormSubmit()">
    <div style="width:50%; margin:auto">
      <h1>MP3 Upload Google Drive</h1>
      <h3>Localhost to Google Drive</h3>
      <input type="file" name="audio" accept=".mp3" onchange="FileOnChange(this)">
      <input type="submit" value="Upload">
      <input type="hidden" name="AudioData" id="AudioData">
       <div id="statusMessage" hidden> Enviando archivo, por favor espera...</div>
    </div>
  </form>

  <script>
    function FileOnChange(input) {
      var file = input.files[0];
      var audioRead = new FileReader();

      audioRead.onload = function (e) {
        var allData = e.target.result;
        var audioData = allData.split("base64,")[1];
        document.getElementById("AudioData").value = audioData;
      }

      audioRead.readAsDataURL(file);
    }

    function handleFormSubmit() {
      document.getElementById("statusMessage").style.display = "block";
      return true; 
    }
  </script>

</body>

</html>

      
  
